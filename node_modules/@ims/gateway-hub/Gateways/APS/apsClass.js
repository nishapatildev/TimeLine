const lib = require('../../Lib/gatewayModule');
const TransXpedia = require('../../Utils/transXpedia');
const EventEmitter = require('events');
const schema = require('./ajvSchemas');
const validateJsonSchema = require('../../Utils/utils').validateJsonSchema;

module.exports = class APS extends EventEmitter {
    constructor(option){
        super();
        this.debugFlag = option.debugFlag == 1 ? 1 : 0;
    }
    /**
     * @param  {Object} option
     * @param {String} option.debug
     * 
     */
    async creditCardPreInsurance(option){
        const transXpedia = new TransXpedia(option);
        transXpedia.clientData.debugFlag = this.debugFlag;
        transXpedia.schema = schema.creditCardPreInsurance;
        await validateJsonSchema(transXpedia);
        return await lib.aps.creditCardPreInsurance.call(this,transXpedia)    
    }
}

